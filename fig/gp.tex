
\pgfdeclarelayer{Ilayer}
\pgfsetlayers{Ilayer,main}
%
\begin{tikzpicture}
    [	
	    font=\small, 
		node distance=\arclen,
		odist/.style ={circle, draw=black!60, thick, inner sep=\nodepad, 
                        minimum size=\nodesize, fill=black!25},
		pdist/.style ={circle, draw=black!60, dashed, thick, inner sep=\nodepad, 
                        minimum size=\nodesize, fill=black!25},
		dist/.style  ={circle, draw=black!60, thick, inner sep=\nodepad, 
                        minimum size=\nodesize},
		point/.style ={circle,draw=black!60,fill=black!60,thick,inner sep=0pt,
                       minimum size=\pointsize},
		oarc/.style  ={->,>=latex',line width=\arcwidth},
		plate/.style ={draw=black!60,rounded corners,thick,inner sep=\platepad},
		reps/.style  ={anchor=south east,inner sep=3pt},
		ofeild/.style  ={-,>=latex',line width=\fieldwidth}
	]

    
    \node[dist]     (q0)                         {$\lstates_0$};
    \node[dist]     (q1)    [right=of q0]        {$\lstates_1$};
    \node[dist]     (q2)    [right=of q1]        {$\lstates_2$};
    \node[dist]     (q3)    [right=of q2]        {$\lstates_3$};
    \node           (d2)    [right=of q3]        {$\ldots$};

    \node[point]     (i0)    [above=of q0, label=$\inobs_0$]    {};
    \node[point]     (i1)    [above=of q1, label=$\inobs_1$]    {};
    \node[point]     (i2)    [above=of q2, label=$\inobs_2$]    {};
    \node[point]     (i3)    [above=of q3, label=$\inobs_3$]    {};
    \node            (d1)    [above=of d2, yshift=4mm]          {$\ldots$};

    \node[odist]    (x0)    [below=of q0]        {$\obss_{0}$};
    \node[odist]    (x1)    [below=of q1]        {$\obss_{1}$};
    \node[odist]    (x2)    [below=of q2]        {$\obss_{2}$};
    \node[odist]    (x3)    [below=of q3]        {$\obss_{3}$};
    \node           (d3)    [below=of d2]        {$\ldots$};
    
    \node[point]    (lcov)  [right=of x3,xshift=5mm,label=right:$\lvar$] {};

    \draw[ofeild]     (q0) to (q1);
    \draw[ofeild]     (q1) to (q2);
    \draw[ofeild]     (q2) to (q3);
    \draw[ofeild]     (q3) to (d2);

    \draw[oarc]     (i0) to (q0);
    \draw[oarc]     (i1) to (q1);
    \draw[oarc]     (i2) to (q2);
    \draw[oarc]     (i3) to (q3);

    \draw[oarc]     (q0) to (x0);
    \draw[oarc]     (q1) to (x1);
    \draw[oarc]     (q2) to (x2);
    \draw[oarc]     (q3) to (x3);

    \draw[oarc]     (lcov) to[out=210, in=-30] (x0);
    \draw[oarc]     (lcov) to[out=210, in=-30] (x1);
    \draw[oarc]     (lcov) to[out=210, in=-30] (x2);
    \draw[oarc]     (lcov) to (x3);
    
\end{tikzpicture}

